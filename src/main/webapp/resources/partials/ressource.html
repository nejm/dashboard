<div class="modal-content">
    <div class="modal-header">
        <button type="button" class="close" ng-click="closeModal()">&times;</button>
        <h4 class="modal-title">Ajouter une ressource</h4>
    </div>
    <div class="modal-body">

        <form name="ressourceForm">
            <select class="form-group form-control" ng-init="typeOfRessource = options[0]"  ng-model="typeOfRessource"
                    ng-options="option.name for option in options">
            </select>
            <div class="form-group hidden">
                <label for="id">id</label>
                <input type="text" ng-model="ressource.id" class="form-control" id="id" placeholder="id">
            </div>
            <div class="form-group">
                <label for="nom">Nom</label> <input type="text"
                                                    ng-model="ressource.name" name="name" class="form-control" id="nom"
                                                    placeholder="Nom" required>
            </div>
            <div class="form-group">
                <label for="url">Url</label> <input type="text"
                                                    ng-model="ressource.url" name="url" class="form-control" id="url"
                                                    placeholder="http://exemple.com" required>
            </div>
            <div class="form-group">
                <a id="credentialOptions" href="#">Autres options</a>
            </div>

            <div id="credential" class="hidden">
                <div class="form-group">
                    <label for="login">Login</label> <input type="text"
                                                            ng-model="ressource.credential.login" class="form-control"
                                                            id="login" placeholder="Login">
                </div>
                <div class="form-group">
                    <label for="password">Password</label> <input type="password"
                                                                  ng-model="ressource.credential.password"
                                                                  class="form-control" id="password" placeholder="password">
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button ng-disabled='!(ressourceForm.url.$valid && ressourceForm.name.$valid)' type="button" class="btn btn-primary"
                ng-click="addRessource(ressource,typeOfRessource.type)">Ajouter</button>
        <button type="button" class="btn btn-default" ng-click="closeModal()">Fermer</button>
    </div>
</div>

<script type="text/javascript">
    $('#credentialOptions').on(
            'click', function () {
                if ($("#credential").hasClass('hidden')) {
                    $("#credential").removeClass('hidden');
                } else {
                    $("#credential").addClass('hidden');
                }
            });
</script>
